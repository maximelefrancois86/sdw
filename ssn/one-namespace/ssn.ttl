@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix dcterms: <http://purl.org/dc/elements/1.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix meta: <http://meta.schema.org/> .
@prefix cc: <http://creativecommons.org/ns#> .
@prefix vann: <http://purl.org/vocab/vann/> .
@prefix voaf: <http://purl.org/vocommons/voaf#> .
@prefix vs: <http://www.w3.org/2003/06/sw-vocab-status/ns#> .

@prefix oldssn: <http://purl.oclc.org/NET/ssnx/ssn#>.
@prefix sosa: <http://www.w3.org/ns/sosa/> .
@prefix ssn: <http://www.w3.org/ns/ssn/> .
@base <http://www.w3.org/ns/ssn/> .

voaf:Vocabulary a owl:Class .
dcterms:title a owl:AnnotationProperty .
dcterms:description a owl:AnnotationProperty .
dcterms:rights a owl:AnnotationProperty .
dcterms:issued a owl:AnnotationProperty .
dcterms:modified a owl:AnnotationProperty .
dcterms:created a owl:AnnotationProperty .
dcterms:creator a owl:AnnotationProperty .
dcterms:contributor a owl:AnnotationProperty .
dcterms:source a owl:AnnotationProperty .
skos:definition a owl:AnnotationProperty .
skos:example a owl:AnnotationProperty .
skos:note a owl:AnnotationProperty .
cc:licence a owl:AnnotationProperty .
vann:preferredNamespacePrefix a owl:AnnotationProperty .
vann:preferredNamespaceUri a owl:AnnotationProperty .

ssn: a voaf:Vocabulary, owl:Ontology ;
  dcterms:title "Semantic Sensor Network Ontology"@en ;
  dcterms:description """This ontology describes sensors and observations, and related concepts.  It does not describe domain concepts, time, locations, etc. these are intended to be included from other ontologies via OWL imports."""@en ;
  dcterms:creator [] ;
  dcterms:contributor <http://maxime-lefrancois.info/me#> ;
  dcterms:created "2009-12-02"^^xsd:date ;
  dcterms:issued "2017-01-05"^^xsd:date ;
  dcterms:modified "2017-02-03"^^xsd:date ;
  rdfs:comment """This ontology is developed by the W3C Semantic Sensor Networks Incubator Group (SSN-XG). The concepts and structure of the ontology were discussed in the group's meetings and on the mailing list. For more information on the group's activities see: http://www.w3.org/2005/Incubator/ssn/"""@en ;
  dcterms:publisher "W3C Semantic Sensor Network Incubator Group"@en ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/" ;
  dcterms:rights "Copyright 2009 - 2017 W3C." ;
  cc:licence <http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document> ;
  vann:preferredNamespacePrefix "ssn" ;
  vann:preferredNamespaceUri "http://www.w3.org/ns/ssn/" ;
  owl:imports sosa:Vocabulary , sosa:DeploymentOntology , sosa:SurvivalOntology , sosa:OperatingOntology , sosa:MeasurementOntology ;
  owl:versionInfo """New modular version of the SSN ontology independent of DUL. Please report any errors to the Semantic Sensor Network Incubator Activity via the public W3C list public-xg-ssn@w3.org"""@en .

## Features of interest and Property

sosa:FeatureOfInterest
  rdfs:comment """A feature of interest is linked to some instance and only instances of sosa:Property by property sosa:hasProperty"""@en ;
  rdfs:subClassOf [ owl:onProperty sosa:hasProperty ; owl:someValuesFrom sosa:Property ] .
  # rdfs:subClassOf [ owl:onProperty sosa:hasProperty ; owl:allValuesFrom sosa:Property ]  not needed if range is specified.

sosa:Property
  rdfs:comment """An observable property is linked to some sosa:FeatureOfInterest by property sosa:isPropertyOf."""@en ;
  rdfs:subClassOf [ owl:onProperty sosa:isPropertyOf ; owl:someValuesFrom sosa:FeatureOfInterest ] .

  # sosa:hasProperty is fully described in sosa:Vocabulary

  sosa:isPropertyOf a owl:FunctionalProperty ;
    rdfs:comment """A property belongs to exactly one feature of interest."""@en .


## Features of interest and samples

sosa:Sample
  rdfs:subClassOf [ owl:onProperty sosa:isSampleOf ; owl:someValuesFrom sosa:FeatureOfInterest ] ;
  rdfs:comment """A sample is a sample of at least one feature of interest."""@en .

  # sosa:hasSample is fully described in sosa:Vocabulary

  sosa:isSampleOf a owl:FunctionalProperty ;
    rdfs:comment """Something can be a sample of at most one feature of interest."""@en .


## Procedures

sosa:Procedure a owl:Class ;
  rdfs:subClassOf [ owl:onProperty ssn:hasOutput ; owl:someValuesFrom owl:Thing ] .

  # sosa:Sensing is fully described in sosa:Vocabulary

  # sosa:Actuating is fully described in sosa:Vocabulary

  ssn:hasInput a owl:ObjectProperty ;
    rdfs:label "has input"@en;
    rdfs:comment """Relation between a Procedure and the description of the information that is provided for its execution."""@en ;
    rdfs:domain sosa:Procedure ;
    rdfs:isDefinedBy ssn: .

  sosa:hasOutput a owl:ObjectProperty ;
    rdfs:label "has output"@en ;
    rdfs:comment """Relation between a Procedure and the description of the information that is reported from its execution."""@en ;
    rdfs:domain sosa:Procedure ;
    rdfs:isDefinedBy ssn: .

## Procedure executors

### Sensor

sosa:Sensor
  rdfs:subClassOf [ owl:onProperty sosa:implements ; owl:someValuesFrom sosa:Sensing ] ;
  owl:equivalentClass [ owl:onProperty sosa:implements ; owl:someValuesFrom sosa:Sensing ] ;
  rdfs:subClassOf [ owl:onProperty sosa:detects ; owl:allValuesFrom sosa:Stimulus ] .

    sosa:observes
      rdfs:comment """If a sensor observes a property, then it also observes the feature of interest this property belongs to."""@en ;
      owl:propertyChainAxiom ( sosa:observes sosa:isPropertyOf ) ;
      owl:propertyChainAxiom ( sosa:generated sosa:observed ) ;
      owl:propertyChainAxiom ( oldssn:hasMeasurementCapability oldssn:forProperty ) . # example ?


### Actuator

sosa:Actuator
  rdfs:subClassOf [ owl:onProperty sosa:implements ; owl:someValuesFrom sosa:Actuating ] ;
  owl:equivalentClass [ owl:onProperty sosa:implements ; owl:someValuesFrom sosa:Actuating ] .

    sosa:actsOn
      rdfs:comment """If an actuator acts on a property, then it also acts on the feature of interest this property belongs to."""@en ;
      owl:propertyChainAxiom ( sosa:actsOn sosa:isPropertyOf ) ;
      owl:propertyChainAxiom ( sosa:generated sosa:actedOn ) ;
      owl:propertyChainAxiom ( oldssn:hasActuationCapability oldssn:forProperty ) . # example ?


## Platform.

sosa:Platform
  rdfs:subClassOf [ owl:onProperty oldssn:attachedSystem ; owl:allValuesFrom oldssn:System ] ;
  rdfs:subClassOf [ owl:onProperty oldssn:inDeployment ; owl:allValuesFrom oldssn:Deployment ] .


## Procedure executions

sosa:implements owl:propertyChainAxiom ( sosa:generated sosa:usedProcedure ) .

sosa:Observation
  rdfs:subClassOf [
    owl:onProperty oldssn:featureOfInterest ;
    owl:allValuesFrom oldssn:FeatureOfInterest ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:observationResult ;
    owl:allValuesFrom oldssn:SensorOutput ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:observedBy ;
    owl:allValuesFrom oldssn:Sensor ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:observedProperty ;
    owl:allValuesFrom oldssn:Property ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:sensingMethodUsed ;
    owl:allValuesFrom oldssn:Sensing ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:featureOfInterest ;
    owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    owl:onClass oldssn:FeatureOfInterest ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:observedBy ;
    owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    owl:onClass oldssn:Sensor ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:observedProperty ;
    owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    owl:onClass oldssn:Property ] ;
  rdfs:subClassOf [
    owl:onProperty oldssn:sensingMethodUsed ;
    owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
    owl:onClass oldssn:Sensing ] .

sosa:observed owl:propertyChainAxiom ( sosa:observed sosa:isPropertyOf ) .

sosa:actedOn owl:propertyChainAxiom ( sosa:actedOn sosa:isPropertyOf ) .

## Stimulus

ssn:Stimulus a owl:Class ;
  rdfs:label "Stimulus"@en ;
  skos:definition """An Event in the real world that 'triggers' the sensor.  The properties associated to the stimulus may be different to eventual observed property.  The event, not the object, triggers the sensor."""@en ;
  rdfs:subClassOf [ owl:onProperty ssn:isProxyFor ; owl:allValuesFrom sosa:Property ] ;
  rdfs:isDefinedBy ssn: .

  ssn:detects a owl:ObjectProperty ;
    rdfs:label "detects"@en ;
    skos:definition """A relation from a sensor to the Stimulus that the sensor can detect.
  The Stimulus itself will be serving as a proxy for (see isProxyOf) some observable property."""@en ;
    rdfs:isDefinedBy ssn: .

  ssn:isProxyFor a owl:ObjectProperty ;
    rdfs:label "is proxy for"@en ;
    skos:definition """A relation from a Stimulus to the Property that the Stimulus is serving as a proxy for.  For example, the expansion of quicksilver is a stimulus that serves as a proxy for temperature. An increase or decrease in the velocity of spinning cups on a wind sensor is serving as a proxy for wind speed."""@en ;
    rdfs:isDefinedBy ssn: .

## Result

sosa:Result
  rdfs:subClassOf [ owl:onProperty sosa:wasGeneratedBy ; owl:someValuesFrom sosa:ProcedureExecutor ] .
#  rdfs:subClassOf [ owl:onProperty sosa:wasGeneratedBy ; owl:someValuesFrom ssn:Sensor ] .
#  rdfs:subClassOf [ owl:onProperty ssn:hasValue ; owl:someValuesFrom ssn:ObservationValue ] ; # now SensorOutput and Observation collapsed, this is not true a




##### I did not go further than this.

###### ISSUE: stimulus and effect replaced by hasCommand and hasResult

sosa:SensingDevice a owl:Class ;
  rdfs:subClassOf sosa:Device ,
  sosa:Sensor ;
  dcterms:source "http://www.w3.org/2005/Incubator/ssn/" ;
  rdfs:comment "A sensing device is a device that implements sensing." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "Sensing Device" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Sensor#Measuring" .

sosa:observationResult a owl:ObjectProperty ;
  dcterms:source """skos:closeMatch 'result' [O&M - ISO/DIS 19156]
		  http://portal.opengeospatial.org/files/?artifact_id=41579""" ;
  rdfs:comment "Relation linking an Observation (i.e., a description of the context, the Situation, in which the observation was made) and a Result, which contains a value representing the value associated with the observed Property." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "observation result" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Skeleton#Skeleton" .

sosa:observationResultTime a owl:ObjectProperty ;
  dcterms:source "http://www.opengeospatial.org/standards/om" ;
  rdfs:comment "The result time is the time when the procedure associated with the observation act was applied." ,
  "The result time shall describe the time when the result became available, typically when the procedure associated with the observation was completed For some observations this is identical to the phenomenonTime. However, there are important cases where they differ.[O&M]" ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "observation result time" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Observation#Observation" .

sosa:observationSamplingTime a owl:ObjectProperty ;
  dcterms:source "http://www.opengeospatial.org/standards/om" ;
  rdfs:comment "Rebadged as phenomenon time in [O&M]. The phenomenon time shall describe the time that the result applies to the property of the feature-of-interest. This is often the time of interaction by a sampling procedure or observation procedure with a real-world feature." ,
  "The sampling time is the time that the result applies to the feature-of-interest. This is the time usually required for geospatial analysis of the result." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "observation sampling time" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Observation#Observation" .

sosa:observedProperty a owl:ObjectProperty ;
  dcterms:source """skos:exactMatch 'observedProperty' [O&M - ISO/DIS 19156]
		  http://portal.opengeospatial.org/files/?artifact_id=41579""" ;
  rdfs:comment "Relation linking an Observation to the Property that was observed.  The observedProperty should be a Property (hasProperty) of the FeatureOfInterest (linked by featureOfInterest) of this observation." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "observed property" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Skeleton#Skeleton" .



sosa:observes a owl:ObjectProperty ;
  owl:propertyChainAxiom ( sosa:madeObservation sosa:observedProperty ) ;
  rdfs:comment """Relation between a Sensor and a Property that the sensor can observe.

Note that, given the DUL modelling of Qualities, a sensor defined with 'observes only Windspeed' technically links the sensor to particular instances of Windspeed, not to the concept itself - OWL can't express concept-concept relations, only individual-individual.  The property composition ensures that if an observation is made of a particular quality then one can infer that the sensor observes that quality.""" ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "observes" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Sensor#Measuring" .

sosa:ofFeature a owl:ObjectProperty ;
  rdfs:comment "A relation between some aspect of a sensing entity and a feature.  For example, from a sensor to the features it can observe properties of, or from a deployment to the features it was installed to observe.  Also from a measurement capability to the feature the capability is described for.  (Used in conjunction with forProperty)." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "of feature" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Skeleton#Skeleton" .

sosa:onPlatform a owl:ObjectProperty ;
  rdfs:comment "Relation between a System (e.g., a Sensor) and a Platform.  The relation locates the sensor relative to other described entities entities: i.e., the Sensor s1's location is Platform p1.  More precise locations for sensors in space (relative to other entities, where attached to another entity, or in 3D space) are made using DOLCE's Regions (SpaceRegion)." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "on platform" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Deploy#PlatformSite" .

#  Classes

sosa:Device a owl:Class ;
  rdfs:subClassOf sosa:System ;
  dcterms:source "http://www.w3.org/2005/Incubator/ssn/" ;
  rdfs:comment "A device is a physical piece of technology - a system in a box. Devices may of course be built of smaller devices and software components (i.e. systems have components)." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "Device" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Device#Device" .

sosa:Observation a owl:Class ;
  rdfs:subClassOf [   owl:onProperty sosa:featureOfInterest ;
  owl:allValuesFrom sosa:FeatureOfInterest
  ] ,
  [   owl:onProperty sosa:observationResult ;
  owl:allValuesFrom sosa:SensorOutput
  ] ,
  [   owl:onProperty sosa:observedBy ;
  owl:allValuesFrom sosa:Sensor
  ] ,
  [   owl:onProperty sosa:observedProperty ;
  owl:allValuesFrom sosa:Property
  ] ,
  [   owl:onProperty sosa:sensingMethodUsed ;
  owl:allValuesFrom sosa:Sensing
  ] ,
  [   owl:onProperty sosa:observationResultTime ;
  owl:minCardinality "0"^^xsd:nonNegativeInteger
  ] ,
  [   owl:onProperty sosa:observationSamplingTime ;
  owl:minCardinality "0"^^xsd:nonNegativeInteger
  ] ,
  [   owl:onProperty sosa:qualityOfObservation ;
  owl:minCardinality "0"^^xsd:nonNegativeInteger
  ] ,
  [   owl:onProperty sosa:featureOfInterest ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass sosa:FeatureOfInterest
  ] ,
  [   owl:onProperty sosa:observedBy ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass sosa:Sensor
  ] ,
  [   owl:onProperty sosa:observedProperty ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass sosa:Property
  ] ,
  [   owl:onProperty sosa:sensingMethodUsed ;
  owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
  owl:onClass sosa:Sensing
  ] ;
  dcterms:source """skos:closeMatch 'observation' [O&M]
		  http://www.opengeospatial.org/standards/om

Observation in this ontology and O&M are described differently (O&M records an observation as an act/event), but they record the same thing and are essentially interchangeable.  The difference is in the ontological structure of the two, not the data or use.

Observation here records a Situation (the estimation of the value of a Property) and a description of the method that was used (along with the participants), while O&M interprets an Observation as the event itself; there must, however, have been an event that lead to our situation, so both are records of events.  The distinction is between the event itself and the record of what happened in that event.

skos:closeMatch 'measurement result' [VIM 2.9] http://www.bipm.org/utils/common/documents/jcgm/JCGM_200_2008.pdf

Measurement result in VIM is the measured value plus any other relevant information, which means that measurement result and observation will often be associated to the same data (a value, a time, a property, etc.).""" ;
  rdfs:comment "An Observation is a Situation in which a Sensing method has been used to estimate or calculate a value of a Property of a FeatureOfInterest.  Links to Sensing and Sensor describe what made the Observation and how; links to Property and Feature detail what was sensed; the result is the output of a Sensor; other metadata details times etc." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "Observation" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Skeleton#Skeleton" .

sosa:ObservationValue a owl:Class ;
  dcterms:source """skos:exactMatch 'measured quantity value' [VIM 2.10]
  http://www.bipm.org/utils/common/documents/jcgm/JCGM_200_2008.pdf

skos:exactMatch 'observed value' [SensorML OGC-0700]
http://www.opengeospatial.org/standards/sensorml

skos:closeMatch 'observation result' [O&M]
http://www.opengeospatial.org/standards/om

O&M conflates what we have as SensorOutput and ObservationValue into observation result, though the OGC standard does say \"result contains a value\" and \"a result which has a value\", which fits naturally with the model here.""" ;
  rdfs:comment "The value of the result of an Observation.  An Observation has a result which is the output of some sensor, the result is an information object that encodes some value for a Feature." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "Observation Value" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Base#Data" .

sosa:SensorOutput a owl:Class ;
  rdfs:label "Sensor Output"@en ;
  skos:definition """A sensor outputs a piece of information (an observed value), the value itself being represented by an ObservationValue."""@en ;
  rdfs:subClassOf [  owl:onProperty sosa:hasValue ; owl:someValuesFrom sosa:ObservationValue ] ;
  rdfs:subClassOf [  owl:onProperty sosa:isProducedBy ;  owl:someValuesFrom sosa:Sensor ] ;
  dcterms:source """http://www.w3.org/2005/Incubator/ssn/
  skos:closeMatch 'observation result' [O&M]
  http://www.opengeospatial.org/standards/om

See comments at ObservationValue.""" ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Skeleton#Skeleton" .

sosa:System a owl:Class ;
  rdfs:subClassOf [   owl:onProperty sosa:hasSubSystem ;
  owl:someValuesFrom sosa:System
  ] ,
  [   owl:onProperty sosa:hasSubSystem ;
  owl:allValuesFrom sosa:System
  ] ,
  [   owl:onProperty sosa:onPlatform ;
  owl:allValuesFrom sosa:Platform
  ] ;
  dcterms:source "http://www.w3.org/2005/Incubator/ssn/" ;
  rdfs:comment "System is a unit of abstraction for pieces of infrastructure for sensing. A system has components, its subsystems, which are other systems." ;
  rdfs:isDefinedBy sosa:Ontology ;
  rdfs:label "System" ;
  rdfs:seeAlso "http://www.w3.org/2005/Incubator/ssn/wiki/SSN_Model#System" .
